name: Develop Branch Checks

on:
  push:
    branches: [ develop ]
  pull_request:
    branches: [ develop ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Validate HTML
      run: |
        echo "Validating HTML structure..."
        if grep -q "<!DOCTYPE html>" index.html; then
          echo "‚úÖ HTML structure looks good"
        else
          echo "‚ùå HTML structure validation failed"
          exit 1
        fi

    - name: Check file size
      run: |
        echo "Checking file sizes..."
        echo "index.html: $(wc -c < index.html) bytes"
        if [ $(wc -c < index.html) -gt 100000 ]; then
          echo "‚ùå index.html is too large"
          exit 1
        else
          echo "‚úÖ File size is acceptable"
        fi

    - name: Success message
      run: |
        echo "üéâ All checks passed! Ready for merge to master." 